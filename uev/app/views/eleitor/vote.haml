- @cargos.each do |_cargo|
    %h3
        = _cargo.name
        %br
        %div{ueg: "#{_cargo.ueg}"}
            %input.onlyNumbers
            %button.btn_vote Go
        
%div#confirm_tab
    Confirme a sua escolha:
    %br
    %table
        %tr 
            %td
                
                %img#photo{:style => "height: 300px; width: 300px"}/
        
            
            %td 
                %input#name


:javascript

$(document).ready(function() {

    $("#confirm_tab").hide();
    $(".btn_vote").click(function(){
        ueg_id = this.parentElement.getAttribute('ueg')
        nbr    = $(this.parentElement.children[0]).val()
        
        $("#confirm_tab").hide();
        console.log("cargo => " + ueg_id + " number =>" + nbr)
        // ajax
        $.ajax({
            url: "/eleitor/get_candidato",
            type: 'GET',
            data: {ueg_id: ueg_id, number: nbr}
        }).done(function(e){
            if(e != "not_found"){
                $("#photo").attr('src', e["photo"]);
                $("#name").val(e["name"]);
                $("#confirm_tab").show();
            } 
        });
    });



    $(".onlyNumbers").keydown(function (e) {
        // Allow: backspace, delete, tab, escape, enter and .
        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
             // Allow: Ctrl+A, Command+A
            (e.keyCode == 65 && ( e.ctrlKey === true || e.metaKey === true ) ) || 
             // Allow: home, end, left, right, down, up
            (e.keyCode >= 35 && e.keyCode <= 40)) {
                 // let it happen, don't do anything
                 return;
        }
        // Ensure that it is a number and stop the keypress
        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
            e.preventDefault();
        }
    });


});